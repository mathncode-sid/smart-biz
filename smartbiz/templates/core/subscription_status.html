{% extends "core/base.html" %}
{% block content %}

<h3 class="fw-semibold mb-4">My Subscription</h3>

{% if subscription %}
<div class="card shadow-sm border-0 p-4" style="max-width: 450px;">
    <div class="mb-3">
        <h5 class="mb-2">{{ subscription.plan.name }}</h5>
        <p class="text-muted mb-0">{{ subscription.plan.description }}</p>
    </div>

    <hr>

    <div class="mb-3">
        <p class="mb-1">
            <strong>Status:</strong> 
            {% if subscription.is_active %}
            <span class="badge bg-success">Active</span>
            {% else %}
            <span class="badge bg-danger">Expired</span>
            {% endif %}
        </p>
        <p class="mb-1">
            <strong>Start Date:</strong> {{ subscription.start_date|date:"M d, Y" }}
        </p>
        <p class="mb-1">
            <strong>End Date:</strong> {{ subscription.end_date|date:"M d, Y" }}
        </p>
        <p class="mb-1">
            <strong>Price:</strong> {% if subscription.plan.price == 0 %}Free{% else %}KES {{ subscription.plan.price }}/month{% endif %}
        </p>
    </div>

    <hr>

    <div class="d-grid gap-2">
        <a href="{% url 'subscription_plans' %}" class="btn btn-primary">
            Upgrade or Renew
        </a>
        <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary">
            Back to Dashboard
        </a>
    </div>
</div>
{% else %}
<div class="alert alert-warning">
    <h5>No Active Subscription</h5>
    <p>You don't have an active subscription yet. Choose a plan to get started.</p>
    <a href="{% url 'subscription_plans' %}" class="btn btn-primary">View Plans</a>
</div>
{% endif %}

{% endblock %}
